!function(t){function n(n,i,a){var e=new FormData,r=t("#"+i);if(r&&window.FormData){var o=Array.prototype.slice.call(r.find('input[type="file"]'),0);o.forEach(function(t,n){this.file=t.files[0],e.append(t.name,this.file)})}if(a instanceof Object)for(var f in a)e.append(f,a[f]);this.url=n,this.formData=e}n.prototype.send=function(n){var i=this;t.ajax({url:i.url,type:"POST",processData:!1,contentType:!1,data:i.formData,success:function(t,i){n(t)},error:function(t){n(t)}})},t.fn.extend({fileUpload:function(i,a,e){var r;r=a?new n(i,t(this).attr("id"),a):new n(i,t(this).attr("id")),r.send(function(t){e.call(this,t)})}})}(jQuery);